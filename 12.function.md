# 함수란?

-   수학의 함수는 입력을 받아 출력을 내보내는 일련의 과정을 정의한 것
    -   f(x,y) = x + y // 2,5 를 전달하면 x + y 를 실행하여 7을 출력
    -   재료를 투입받아 제품을 생산하는 기계와 같음

```
function add(x, y){
    return x + y;
}

add(2, 5); // 7
```

-   자바스크립트의 함수
-   프로그래밍 언어의 함수는 일련의 과정을 문으로 구현하고 코드블록으로 감싸서 하나의 실행단위로 정의한 것
    -   이때 함수 내부로 입력을 전달받는 변수를 매개변수(파라미터 parameter)
    -   입력을 인수(아규먼트 argument)
    -   출력을 반환값(리턴 return value) 라 함
-   함수는 여러 개 존재할 수 있으므로 특정 함수마다 식별자인 함수 이름을 사용
-   함수는 함수 정의를 통해 생성
    -   다양한 방법이 있음
-   함수에 필요한 인수를 입력하고 호출 하면 코드 블록에 담긴 문들이 일괄적으로 실행되고, 실행 결과를 반환

<br/>
<br/>

# 함수를 사용하는 이유

-   중복되는 코드의 재사용
    -   하나를 수정함으로 여러개가 수정됨, 유지보수의 편의성을 높임
    -   여러 번 작성할 때 나타나는 실수를 줄여 코드의 신뢰성이 높아짐
-   코드의 가독성 향상
    -   함수는 객체 타입의 값
        -   따라서 식별자를 붙일 수 있음
            -   변수 이름과 마찬가지로 함수 자신의 역할을 잘 설명해야함
-   코드는 동작하는 것만이 존재 목적이 아닌, 개발자를 위한 문서이기도 함

# 함수 리터럴

```
function name(x, y){
...
}
```

-   함수 리터럴의 구성 요소
    -   함수 이름 : 식별자, 함수 몸체 내에서만 참조할 수 있는 식별자, 생략 가능 (무명 함수)
    -   매개변수 목록 : 0개 이상의 매개변수를 소괄호로 감싸고, 쉼표로 구분
    -   함수 몸체 : 함수가 호출되었을 때 일괄적으로 실행될 문들을 하나의 실행 단위로 정의한 코드 블록
-   자바스크립트 함수는 객체 타입 값
    -   일반 객체는 호출할 수 없지만, 함수는 호출할 수 있음
-   함수가 객체라는 사실은 다른 프로그래밍 언어와 자바스크립트의 큰 차이

# 함수 정의

```
// 함수 선언문
function add(x, y){
    return x + y;
}

//함수 표현식
const add = function (x, y){
    return x + y;
};

//Function 생성자 함수
const add = new Function('x', 'y', 'return x + y');

//화살표 함수(ES6)
const add = (x, y) => x + y;
```

-   함수 호출 전 매개변수, 실행할 문들, 반환 값을 지정하는 것
-   변수는 선언 , 함수는 정의

    -   함수 선언문이 평가되면 식별자가 암묵적으로 생성되고 함수 객체가 할당
        -   자바스크립트는 선언하면 암묵적으로 정의가 이뤄지기 때문에 구분이 모호
        -   C에서의 선언과 정의
            -   선언 : 컴파일러에게 식별자의 존재만 알리는 것
            -   정의 : 컴파일러가 변수를 생성해서 식별자와 메모리 주소를 연결

-   함수 선언문
    -   함수 이름 생략할 수 없음
        -   함수 리터럴은 생략 가능
    -   함수 선언문은 표현식이 아닌 문
        -   실행시 완료 값 undefined 출력
            -   표현식인 문은 실행시 값을 출력
-   표현식이 아닌 문은 변수에 할당할 수 없음
    -   함수 선언문또한 마찬가지
        -   하지만 위 예제(2)를 보면 함수 선언문이 변수에 할당되는 것 처럼 보임
        -   자바스크립트 엔진이 문맥에 따라 함수 선언문을 함수 리터럴 표현식으로 평가하기 때문
-   function foo(){...} 함수 선언문을 foo()로 호출할 수 있는 이유
    -   foo가 자바스크립트 엔진이 암묵적으로 생선한 식별자이기 때문
-   함수 선언문과 함수 리터럴 표현식의 차이
    -   선언문은 함수 호이스팅되어 생성 시점에 관계없이 호출 가능
    -   표현식은 함수 호이스팅이 되지 않아 생성 시점에 따라 호출 가능
        -   변수가 호이스팅 되고 런타임으로 함수를 재할당
    -   함수 호이스팅은 함수를 호출하기 전에 함수를 선언해야한다는 규칙을 무시
        -   함수 표현식의 사용 권장
-   Function 생성자 함수
    -   new 연산자 사용해도 되고 안해도 됨
    -   일반적이지 않고 바람직하지도 않음
        -   클로저를 생성하지 않음
            -   클로저 : 함수와 그 함수가 선언됐을 때의 렉시컬 환경과의 조합
            -   추후 클로저 파트에서
-   화살표 함수
    -   표현 뿐만 아닌 내부동작도 간소화
        -   추후 화살표 함수 파트

<br/>
<br/>

# 함수 호출

-   매개변수(parameter)를 통해 인수(argument)를 전달
    -   매개변수는 함수 정의 때 선언
    -   인수는 함수 호출 때 지정
    -   함수가 호출되면 함수 몸체 내에서 암묵적으로 매개변수가 생성되고 undefined로 초기화, 재할당이 진행됨
    -   매개변수의 스코프(유효 범위)는 함수 내부
    -   인수가 부족하게 전달되면 undefinde로 처리됨
    -   인수가 많으면 무시됨
        -   초과한 인수는 암묵적으로 arguments 객체의 프로퍼티로 보관
-   매개변수가 많아지면 함수 사용법이 어려워지고 실수 가능성이 높아진다.
    -   그러므로 적을수록 좋음
    -   매개변수가 많다는 건 함수가 여러가지 일을 한다는 것
        -   이상적인 함수는 한 가지 일만 해야하며, 가급적 작게 만들어야 한다
    -   3개 이상을 권장하지 않으나, 필요하다면 객체로 인수를 전달하는 것이 유리
        -   키를 사용하므로 의미 전달, 가독성이 좋아지고 실수도 줄어듬
-   함수는 return 키워드와 표현식으로 이뤄진 반환문을 사용해 실행 결과를 외부로 반환할 수 있음
    -   반환문은 함수 실행을 중단하고 함수 몸체를 탈출한다
        -   이후 다른 문을 무시한다
    -   return 키워드 뒤 표현식을 평가해 반환한다
        -   명시하지 않으면 undefined를 반환한다
    -   반환문은 함수 몸체 내부에서만 사용할 수 있다

<br/>
<br/>

# 참조에 의한 전달과 외부 상태의 변경

-   함수에 의해 객체를 변경하면 참조에 의한 전달을 고려해야 함.

# 즉시 실행 함수

```
// 즉시 실행 함수
(function (){
    ...
}());
```

-   ()를 감싸서 사용해야함
    -   기명으로 사용할수도 있음

# 재귀 함수

```
function countdown(n){
    if(n < 0) return;
    countdown(n - 1); // 재귀 호출
}
```

-   반복문 없이 반복 처리 가능
    -   탈출 조건이 반드시 필요
        -   무한 호출 방지

# 중첩 함수

```
function outer(){
    ...
    function inner(){
        ...
    }
    inner();
}
```

-   내부 함수라고도 함.

# 콜백 함수

```
const logAll = (i) => console.log(i);

repeat(5, logAll);
```

-   함수의 매개변수를 통해 타른 함수의 내부로 전달되는 함수
-   고차함수에 전달해 자주 사용

-   함수형 프로그래밍에서의 순수 함수, 비순수 함수
    -   순수 함수 : 어떤 외부 상태에 의존하지도 않고 변경하지도 않는 함수
    -   비순수 함수 : 외부 상태에 의존하거나 외부 상태를 변경하는 함수
        -   함수가 외부상태를 변겨아면 상태 변화 추적이 어려움
        -   함수형 프로그래밍은 순수 함수와 보조 함수의 조합을 통해 외부 상태 변경 최소화, 분별성을 지향하는 프로그래밍 패러다임
            -   조건문, 반복문을 제거해 복잡성 해결
                -   조건문, 반복문은 로직 흐름 가독성을 해침
            -   변수 사용을 억제하거나 생명주기를 최소화해서 상태 변경 오류를 최소화
                -   변수 값이 변경되는 오류를 회피
-   자바스크립트는 멀티 패러다임 언어이므로 객체지향 프로그래밍뿐만 아니라 함수형 프로그래밍도 적극 활용
